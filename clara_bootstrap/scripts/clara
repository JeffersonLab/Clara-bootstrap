#!/usr/bin/env bash

function print_help(){
    echo "Clara Bootstrap v1.0"
    echo -e "\tusage: clara scaffold <LANGUAGE> <PROJECT_NAME>"
    echo -e "\tusage: clara setup <LANGUAGE> [CUSTOM_CLARA_REPO]"
}

if [ -z "$1" ]; then
    print_help
fi

if [ "$1" = "-h" -o "$1" = "-help" ]; then
    print_help
fi

option=$1

if [ "$option" = "scaffold" ]; then
    language=$2
    proj_name=$3
    if [ "$language" = "python" ]; then
        python -c "from clara_bootstrap.generator.PythonProject import create_python_project; create_python_project(\"$proj_name\")"
    elif [ "$language" = "java" ]; then
        python -c "from clara_bootstrap.generator.JavaProject import create_java_project; create_java_project(\"$proj_name\")"
    else
        print_help
    fi
elif [ "$option" = "setup" ]; then
    language=$2
    if [ "$language" = "python" ]; then
        REPO=$3
        if [-n REPO]; then
            python -c "from clara_bootstrap.installer.PythonInstaller import install; install(\"REPO\")"
        fi
        python -c "from clara_bootstrap.installer.PythonInstaller import install; install()"
    else
        echo "Not supported language for bootstrap setup..."
    fi
else
    print_help
fi
